apiVersion: v1
kind: ConfigMap
metadata:
  # namespace: metallb-system
  name: metallb-config
data:
  config: |
    address-pools:
    - name: primary-pool
      protocol: layer2
      addresses:
      - {{ .Values.primary_ip }}-{{ .Values.primary_ip }}
    - name: secondary-pool
      protocol: layer2
      addresses:
      - {{ .Values.secondary_ip }}-{{ .Values.secondary_ip }}
    - name: default
      protocol: layer2
      addresses:
      - {{ .Values.cluster_ip_start }}-{{ .Values.cluster_ip_end }}